!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var n={},r={},t={},i={}.hasOwnProperty,u=/^\.\.?(\/|$)/,o=function(e,n){for(var r,t=[],i=(u.test(n)?e+"/"+n:n).split("/"),o=0,l=i.length;o<l;o++)r=i[o],".."===r?t.pop():"."!==r&&""!==r&&t.push(r);return t.join("/")},l=function(e){return e.split("/").slice(0,-1).join("/")},a=function(n){return function(r){var t=o(l(n),r);return e.require(t,n)}},s=function(e,n){var t=p&&p.createHot(e),i={id:e,exports:{},hot:t};return r[e]=i,n(i.exports,a(e),i),i.exports},c=function(e){return t[e]?c(t[e]):e},d=function(e,n){return c(o(l(e),n))},f=function(e,t){null==t&&(t="/");var u=c(e);if(i.call(r,u))return r[u].exports;if(i.call(n,u))return s(u,n[u]);throw new Error("Cannot find module '"+e+"' from '"+t+"'")};f.alias=function(e,n){t[n]=e};var m=/\.[^.\/]+$/,v=/\/index(\.[^\/]+)?$/,b=function(e){if(m.test(e)){var n=e.replace(m,"");i.call(t,n)&&t[n].replace(m,"")!==n+"/index"||(t[n]=e)}if(v.test(e)){var r=e.replace(v,"");i.call(t,r)||(t[r]=e)}};f.register=f.define=function(e,t){if(e&&"object"==typeof e)for(var u in e)i.call(e,u)&&f.register(u,e[u]);else n[e]=t,delete r[e],b(e)},f.list=function(){var e=[];for(var r in n)i.call(n,r)&&e.push(r);return e};var p=e._hmr&&new e._hmr(d,f,n,r);f._cache=r,f.hmr=p&&p.wrap,f.brunch=!0,e.require=f}}(),function(){"undefined"==typeof window?this:window;require.register("app.js",function(e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=n("./functions.js"),i=n("./model.js"),u={view:function(e){var n=e.attrs,r=n.mdl,i=n.cell;return m(".cell",{"class":i.isAlive?"alive":"dead",style:{fontSize:r.width()/r.size()/2+"px",height:r.width()/r.size()/2+"px",flex:"1 1 "+r.width()/r.size()+"px"},onclick:function(){r.isRunning(r.isRunning()),r.board[i.coords].isAlive=!i.isAlive,(0,t.updateCells)(r)}})}},o=function(e){var n=e.attrs.mdl;return(0,t.makeBoardFromSize)(n,Number(n.size())),{oninit:function(e){var n=e.attrs.mdl;return(0,t.createSeed)(n)},view:function(e){var n=e.attrs.mdl;return m(".board",{style:{width:n.width()+"px"}},Object.keys(n.board).map(function(e){var r=n.board[e];return m(u,{key:r.key,cell:r,mdl:n})}))}}},l={view:function(e){var n=e.attrs.mdl;return m(".toolbar",[m("button.btn",{onclick:function(e){return(0,i.restart)(n)}},"New Game"),m("button.btn",{onclick:function(e){return(0,t.updateCells)(n)}},"Next"),m("button.btn",{onclick:function(e){n.isRunning(!n.isRunning()),(0,t.runGOL)(n)}},"Start")])}},a={view:function(e){var n=e.attrs.mdl;return m(".container",[m(l,{mdl:n}),m(o,{mdl:n})])}};e["default"]=a}),require.register("functions.js",function(e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSeed=e.updateCells=e.runGOL=e.updateSiblings=e.calculateCell=e.makeBoardFromSize=e.makeKey=e.log=void 0;var t=n("ramda"),i=(e.log=function(e){return function(n){return console.log(e,n),n}},e.makeKey=function(e){return e[0]+"-"+e[1]},[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]]),u=function(e){return function(n){return!(n.includes(e)||n.includes(-1))}},o=function(e,n){return e[n]=!1,e},l=function(e){return function(n){return function(r){return n.map(function(e){return[e[0]+r[0],e[1]+r[1]]}).filter(u(e)).reduce(o,{})}}},a=function(e){return function(n){return function(r){var t=[r%n,Math.floor(r/n)],u=l(n)(i)(t),o={key:r,value:"",isAlive:!1,coords:t,siblings:u};return e.board[t]=o,e.cells[t]=o,e}}},s=(e.makeBoardFromSize=function(e,n){return e.size(n),(0,t.range)(0,n*n).map(a(e)(n))},e.calculateCell=function(e){return Object.keys(e.board).map(function(n){var r=(0,t.without)([!1],(0,t.values)(e.board[n].siblings)).length;r<=2&&(e.board[n].isAlive=!1,e.cells[n].isAlive=!1),[2,3].includes(r)&&(e.board[n].isAlive=!0,e.cells[n].isAlive=!0),r>3&&(e.board[n].isAlive=!1,e.cells[n].isAlive=!1),3==r&&(e.board[n].isAlive=!0,e.cells[n].isAlive=!0)}),e}),c=e.updateSiblings=function(e){return Object.keys(e.board).map(function(n){return Object.keys(e.board[n].siblings).map(function(r){return e.board[n].siblings[r]=e.board[r].isAlive})}),e},d=(e.runGOL=function(e){return f(e),e},function(e){var n=Object.keys(e.board).sort(function(){return.5-Math.random()}).slice(0,10);return n.map(function(n){return e.board[n].isAlive=!0}),e}),f=e.updateCells=(0,t.compose)(s,c);e.createSeed=(0,t.compose)(c,d)}),require.register("initialize.js",function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var i=n("./app.js"),u=t(i),o=n("./model.js"),l=t(o);document.addEventListener("DOMContentLoaded",function(){var e=document.body;m.mount(e,{view:function(){return m(u["default"],{mdl:l["default"]})}})})}),require.register("model.js",function(e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={isRunning:Stream(!1),cells:{},turn:Stream(!0),board:[],size:Stream(30),width:Stream(800)};e.restart=function(e){e.isRunning=Stream(!1),e.size(null),e.width(800),e.turn(!0)};e["default"]=t}),require.register("___globals___",function(e,n,r){window.m=n("mithril"),window.Stream=n("mithril-stream")})}(),require("___globals___");